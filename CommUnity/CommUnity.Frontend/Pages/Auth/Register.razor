@page "/Register"

@if (loading)
{
    <Loading />
}
else
{
    <EditForm Model="userDTO" OnValidSubmit="CreteUserAsync">
        <MudGrid>
            <MudItem xs="12" sm="6">
                <MudTextField Label="Documento" @bind-Value="@userDTO.Document" Required="true" />
                <ValidationMessage For="@(() => userDTO.Document)" />
            </MudItem>
            <MudItem xs="12" sm="6">
                <MudTextField Label="Nombres" @bind-Value="@userDTO.FirstName" Required="true" />
                <ValidationMessage For="@(() => userDTO.FirstName)" />
            </MudItem>
            <MudItem xs="12" sm="6">
                <MudTextField Label="Apellidos" @bind-Value="@userDTO.LastName" Required="true" />
                <ValidationMessage For="@(() => userDTO.LastName)" />
            </MudItem>
            <MudItem xs="12" sm="6">
                <MudTextField Label="Dirección" @bind-Value="@userDTO.Address" Required="true" />
                <ValidationMessage For="@(() => userDTO.Address)" />
            </MudItem>
            <MudItem xs="12" sm="6">
                <MudTextField Label="Email" @bind-Value="@userDTO.Email" Required="true" />
                <ValidationMessage For="@(() => userDTO.Email)" />
            </MudItem>
            <MudItem xs="12" sm="6">
                <MudTextField Label="Contraseña" @bind-Value="@userDTO.Password" InputType="InputType.Password" Required="true" />
                <ValidationMessage For="@(() => userDTO.Password)" />
            </MudItem>
            <MudItem xs="12" sm="6">
                <MudTextField Label="Confirmación de contraseña" @bind-Value="@userDTO.PasswordConfirm" InputType="InputType.Password" Required="true" />
                <ValidationMessage For="@(() => userDTO.PasswordConfirm)" />
            </MudItem>
            <MudItem xs="12" sm="6">
                <MudSelect T="int" Label="Ciudad" @bind-Value="@userDTO.CityId" Required="true">
                    <MudSelectItem Value="0">Seleccionar...</MudSelectItem>

                        <MudSelectItem Value="1">Medellin</MudSelectItem>

                </MudSelect>
                <ValidationMessage For="@(() => userDTO.CityId)" />
            </MudItem>
            <MudItem xs="12" sm="6">
                <InputImg Label="Foto" ImageSelected="ImageSelected" ImageURL="@imageUrl" />
            </MudItem>

            <MudItem xs="12" class="d-flex justify-center mt-4">
                <MudButton Variant="Variant.Outlined" StartIcon="@Icons.Material.Filled.ArrowBack" Color="Color.Info" OnClick="ReturnAction" Class="mr-2">
                    Regresar
                </MudButton>
                <MudButton Variant="Variant.Outlined" StartIcon="@Icons.Material.Filled.Check" Color="Color.Primary" ButtonType="ButtonType.Submit">
                    Guardar
                </MudButton>
            </MudItem>
        </MudGrid>
    </EditForm>
}
