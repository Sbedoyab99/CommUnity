@page "/api/accounts/ResetPassword"

@if (loading)
{
    <Loading />
}
<MudContainer MaxWidth="MaxWidth.Medium">
    <MudPaper Elevation="4" Class="pa-4">
        <EditForm Model="resetPasswordDTO" OnValidSubmit="ChangePasswordAsync">
            <DataAnnotationsValidator />
            <MudGrid>
                <MudItem xs="12" sm="12">
                    <MudCard>
                        <MudCardHeader>
                            <CardHeaderContent>
                                <MudText Typo="Typo.h6">Cambiar Contraseña</MudText>
                            </CardHeaderContent>
                        </MudCardHeader>
                        <MudCardContent>
                            <MudItem xs="12" sm="12">
                                <MudTextField Label="Email" @bind-Value="@resetPasswordDTO.Email" />
                                <ValidationMessage For="@(() => resetPasswordDTO.Email)" />
                            </MudItem>
                            <MudItem xs="12" sm="12">
                                <MudTextField Label="Nueva Contraseña" InputType="InputType.Password" @bind-Value="@resetPasswordDTO.Password" />
                                <ValidationMessage For="@(() => resetPasswordDTO.Password)" />
                            </MudItem>
                            <MudItem xs="12" sm="12">
                                <MudTextField Label="Comfirmar Contraseña" InputType="InputType.Password" @bind-Value="@resetPasswordDTO.ConfirmPassword" />
                                <ValidationMessage For="@(() => resetPasswordDTO.ConfirmPassword)" />
                            </MudItem>
                        </MudCardContent>
                    </MudCard>
                </MudItem>
            </MudGrid>
            <MudGrid Justify="Justify.Center">
                <MudItem>
                    <MudButton Variant="Variant.Filled" StartIcon="@Icons.Material.Filled.Check" Color="Color.Primary" ButtonType="ButtonType.Submit">
                        Cambiar Contraseña
                    </MudButton>
                </MudItem>
                <MudItem>
                    <MudButton Variant="Variant.Filled" StartIcon="@Icons.Material.Filled.ArrowBack" Color="Color.Secondary" OnClick="ReturnAction">
                        Cancelar
                    </MudButton>
                </MudItem>
            </MudGrid>
        </EditForm>
    </MudPaper>
</MudContainer>
